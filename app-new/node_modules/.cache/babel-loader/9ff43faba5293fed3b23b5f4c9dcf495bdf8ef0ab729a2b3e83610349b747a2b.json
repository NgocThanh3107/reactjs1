{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\react.js\\\\app-new\\\\src\\\\Component\\\\member\\\\Login.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { json, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [getData, setGetData] = useState({\n    Email: \"\",\n    Pass: \"\",\n    Level: \"\"\n  });\n  const [err, setErr] = useState(\"\");\n  const navigate = useNavigate();\n  function handleIP(e) {\n    let getName = e.target.name;\n    let getValue = e.target.value;\n    setGetData(state => ({\n      ...state,\n      [getName]: getValue\n    }));\n  }\n  function log(e) {\n    e.preventDefault();\n    let errObj = {};\n    let x = 1;\n    if (getData.Email == \"\") {\n      errObj.Email = \"Vui long nhap email\";\n      x = 2;\n    }\n    if (getData.Pass == \"\") {\n      errObj.Pass = \"Vui long nhap pass\";\n      x = 2;\n    }\n    if (getData.Level == \"\") {\n      errObj.Level = \"Vui long nhap level\";\n      x = 2;\n    }\n    setErr(errObj);\n    if (x == 1) {\n      let data = {\n        email: getData.Email,\n        password: getData.Pass,\n        level: 0\n      };\n      axios.post(\"http://localhost:8080/laravel8/laravel8/public/api/login\", data).then(res => {\n        if (res.data.errors) {\n          setErr(res.data.errors);\n        } else {\n          let TRUE = res.data;\n          let local2 = JSON.stringify(TRUE);\n          localStorage.setItem(\"TRUE\", local2);\n          let auth = res.data.Auth;\n          let local = JSON.stringify(auth);\n          localStorage.setItem(\"auth\", local);\n          let token = res.data.token;\n          let local1 = JSON.stringify(token);\n          localStorage.setItem(\"token\", local1);\n          navigate(\"/\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      alert(\"lỗi\");\n    }\n  }\n  function showErr() {\n    if (Object.keys(err).length > 0) {\n      return Object.keys(err).map((key, index) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: err[key]\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }, this);\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"col-sm-4 col-sm-offset-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login to your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"#\",\n        onSubmit: log,\n        children: [showErr(), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email Address\",\n          name: \"Email\",\n          onChange: handleIP\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"Pass\",\n          onChange: handleIP\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Level\",\n          name: \"Level\",\n          onChange: handleIP\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            class: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 8\n          }, this), \"Keep me signed in\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-default\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"xjGJloLHSff6xw15xNzMl14z+Qo=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useEffect","useState","json","useNavigate","jsxDEV","_jsxDEV","Login","_s","getData","setGetData","Email","Pass","Level","err","setErr","navigate","handleIP","e","getName","target","name","getValue","value","state","log","preventDefault","errObj","x","data","email","password","level","post","then","res","errors","TRUE","local2","JSON","stringify","localStorage","setItem","auth","Auth","local","token","local1","catch","error","console","alert","showErr","Object","keys","length","map","key","index","children","fileName","_jsxFileName","lineNumber","columnNumber","class","action","onSubmit","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/react.js/app-new/src/Component/member/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { json, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login(){\r\n\r\nconst [getData, setGetData] = useState({\r\n\tEmail: \"\",\r\n\tPass: \"\",\r\n\tLevel: \"\"\r\n})\r\n\r\n\r\nconst [err,setErr] = useState(\"\")\r\n\r\nconst navigate = useNavigate();\r\n\r\nfunction handleIP(e){\r\n\tlet getName= e.target.name\r\n\tlet getValue = e.target.value\r\n\tsetGetData(state => ({...state,[getName]:getValue}))\r\n}\r\nfunction log(e){\r\n    e.preventDefault();\r\n    let errObj={};\r\n    let x=1;\r\n    if(getData.Email == \"\"){\r\n        errObj.Email = \"Vui long nhap email\"\r\n        x=2;\r\n    }\r\n    if(getData.Pass == \"\"){\r\n        errObj.Pass = \"Vui long nhap pass\"\r\n        x=2;\r\n    }\r\n\tif(getData.Level == \"\"){\r\n\t\terrObj.Level = \"Vui long nhap level\";\r\n\t\tx=2;\r\n\t}\r\n\tsetErr(errObj)\r\n\tif(x==1){\r\n\t\tlet data = {\r\n\t\t\temail: getData.Email,\r\n\t\t\tpassword: getData.Pass,\r\n\t\t\tlevel: 0\r\n\t\t}\r\n\t\taxios.post(\"http://localhost:8080/laravel8/laravel8/public/api/login\", data)\r\n\t\t\t.then((res) =>{\r\n\t\t\t\tif(res.data.errors){\r\n\t\t\t\t\tsetErr(res.data.errors)\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet TRUE = res.data;\r\n\t\t\t\t\tlet local2 = JSON.stringify(TRUE);\r\n\t\t\t\t\tlocalStorage.setItem(\"TRUE\",local2)\r\n\r\n\t\t\t\t\tlet auth = res.data.Auth; \r\n\t\t\t\t\tlet local = JSON.stringify(auth)\r\n\t\t\t\t\tlocalStorage.setItem(\"auth\",local)\r\n\r\n\t\t\t\t\tlet token = res.data.token;\r\n\t\t\t\t\tlet local1 = JSON.stringify(token)\r\n\t\t\t\t\tlocalStorage.setItem(\"token\",local1)\r\n\r\n\t\t\t\t\tnavigate(\"/\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function (error){\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t\r\n\t}else{\r\n\t\talert(\"lỗi\")\r\n\t}\r\n}\r\n\r\nfunction showErr(){\r\n\tif(Object.keys(err).length > 0){\r\n\t  return Object.keys(err).map((key,index)=>{\r\n\t\treturn(\r\n\t\t  <li key={key}>\r\n\t\t\t{err[key]}\r\n\t\t  </li>\r\n\t\t)\r\n\t  })\r\n\t}\r\n   \r\n  }\t \r\n    return(\r\n        <div class=\"col-sm-4 col-sm-offset-1\">\r\n\t \t\t<div class=\"login-form\">\r\n\t \t\t\t<h2>Login to your account</h2>\r\n\t\t\t\t\t<form action=\"#\" onSubmit={log}>\r\n\t\t\t\t\t\t{showErr()}\r\n\t \t\t\t\t\t<input type=\"email\" placeholder=\"Email Address\" name=\"Email\" onChange={handleIP}/>\r\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"Pass\" onChange={handleIP}/>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Level\" name=\"Level\" onChange={handleIP} />\r\n\t \t\t\t\t<span>\r\n\t \t\t\t\t\t<input type=\"checkbox\" class=\"checkbox\"/> \r\n\t\t\t\t\t\t    Keep me signed in\r\n\t\t\t\t\t</span>\r\n\t \t\t\t\t<button type=\"submit\" class=\"btn btn-default\">Login</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t \t</div>\r\n    )\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}