{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{json,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[getData,setGetData]=useState({Email:\"\",Pass:\"\",Level:0});const[err,setErr]=useState(\"\");const navigate=useNavigate();function handleIP(e){let getName=e.target.name;let getValue=e.target.value;setGetData(state=>({...state,[getName]:getValue}));}function log(e){e.preventDefault();let errObj={};let x=1;if(getData.Email==\"\"){errObj.Email=\"Vui long nhap email\";x=2;}if(getData.Pass==\"\"){errObj.Pass=\"Vui long nhap pass\";x=2;}// if(getData.Level == \"\"){\n// \terrObj.Level = \"Vui long nhap level\";\n// \tx=2;\n// }\nsetErr(errObj);if(x==1){let data={email:getData.Email,password:getData.Pass,level:0};axios.post(\"http://localhost:8080/laravel8/laravel8/public/api/login\",data).then(res=>{if(res.data.errors){setErr(res.data.errors);}else{localStorage.setItem(\"checkLogin\",true);let auth=res.data.Auth;let local=JSON.stringify(auth);localStorage.setItem(\"auth\",local);let token=res.data.token;localStorage.setItem(\"token\",token);navigate(\"/\");}}).catch(function(error){console.log(error);});}else{alert(\"lỗi\");}}function showErr(){if(Object.keys(err).length>0){return Object.keys(err).map((key,index)=>{return/*#__PURE__*/_jsx(\"li\",{children:err[key]},key);});}}return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-4 col-sm-offset-1\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login to your account\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",onSubmit:log,children:[showErr(),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email Address\",name:\"Email\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"Pass\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Level\",name:\"Level\",onChange:handleIP}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",class:\"checkbox\"}),\"Keep me signed in\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-default\",children:\"Login\"})]})]})});}export default Login;","map":{"version":3,"names":["axios","useEffect","useState","json","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","getData","setGetData","Email","Pass","Level","err","setErr","navigate","handleIP","e","getName","target","name","getValue","value","state","log","preventDefault","errObj","x","data","email","password","level","post","then","res","errors","localStorage","setItem","auth","Auth","local","JSON","stringify","token","catch","error","console","alert","showErr","Object","keys","length","map","key","index","children","class","action","onSubmit","type","placeholder","onChange"],"sources":["C:/Users/ASUS/Desktop/react.js/app-new/src/Component/member/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { json, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login(){\r\n\r\nconst [getData, setGetData] = useState({\r\n\tEmail: \"\",\r\n\tPass: \"\",\r\n\tLevel: 0\r\n})\r\n\r\n\r\nconst [err,setErr] = useState(\"\")\r\n\r\nconst navigate = useNavigate();\r\n\r\nfunction handleIP(e){\r\n\tlet getName= e.target.name\r\n\tlet getValue = e.target.value\r\n\tsetGetData(state => ({...state,[getName]:getValue}))\r\n}\r\nfunction log(e){\r\n    e.preventDefault();\r\n    let errObj={};\r\n    let x=1;\r\n    if(getData.Email == \"\"){\r\n        errObj.Email = \"Vui long nhap email\"\r\n        x=2;\r\n    }\r\n    if(getData.Pass == \"\"){\r\n        errObj.Pass = \"Vui long nhap pass\"\r\n        x=2;\r\n    }\r\n\t// if(getData.Level == \"\"){\r\n\t// \terrObj.Level = \"Vui long nhap level\";\r\n\t// \tx=2;\r\n\t// }\r\n\tsetErr(errObj)\r\n\tif(x==1){\r\n\t\tlet data = {\r\n\t\t\temail: getData.Email,\r\n\t\t\tpassword: getData.Pass,\r\n\t\t\tlevel: 0\r\n\t\t}\r\n\t\taxios.post(\"http://localhost:8080/laravel8/laravel8/public/api/login\", data)\r\n\t\t\t.then((res) =>{\r\n\t\t\t\tif(res.data.errors){\r\n\t\t\t\t\tsetErr(res.data.errors)\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tlocalStorage.setItem(\"checkLogin\", true);\r\n\r\n\t\t\t\t\tlet auth = res.data.Auth;\r\n\t\t\t\t    let local = JSON.stringify(auth);\r\n\t\t\t\t\tlocalStorage.setItem(\"auth\",local)\r\n\r\n\t\t\t\t\tlet token = res.data.token;\r\n\t\t\t\t\tlocalStorage.setItem(\"token\",token)\r\n\r\n\t\t\t\t\tnavigate(\"/\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function (error){\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t\r\n\t}else{\r\n\t\talert(\"lỗi\")\r\n\t}\r\n}\r\n\r\nfunction showErr(){\r\n\tif(Object.keys(err).length > 0){\r\n\t  return Object.keys(err).map((key,index)=>{\r\n\t\treturn(\r\n\t\t  <li key={key}>\r\n\t\t\t{err[key]}\r\n\t\t  </li>\r\n\t\t)\r\n\t  })\r\n\t}\r\n   \r\n  }\t \r\n    return(\r\n        <div class=\"col-sm-4 col-sm-offset-1\">\r\n\t \t\t<div class=\"login-form\">\r\n\t \t\t\t<h2>Login to your account</h2>\r\n\t\t\t\t\t<form action=\"#\" onSubmit={log}>\r\n\t\t\t\t\t\t{showErr()}\r\n\t \t\t\t\t\t<input type=\"email\" placeholder=\"Email Address\" name=\"Email\" onChange={handleIP}/>\r\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"Pass\" onChange={handleIP}/>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Level\" name=\"Level\" onChange={handleIP} />\r\n\t \t\t\t\t<span>\r\n\t \t\t\t\t\t<input type=\"checkbox\" class=\"checkbox\"/> \r\n\t\t\t\t\t\t    Keep me signed in\r\n\t\t\t\t\t</span>\r\n\t \t\t\t\t<button type=\"submit\" class=\"btn btn-default\">Login</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t \t</div>\r\n    )\r\n}\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}