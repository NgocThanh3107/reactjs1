{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[getData,setGetData]=useState({Email:\"\",Pass:\"\",Name:\"\",Phone:\"\",Address:\"\",Level:0});const[err,setErr]=useState(\"\");function handleIP(e){let getName=e.target.name;let getValue=e.target.value;setGetData(state=>({...state,[getName]:getValue}));}const[File,setFile]=useState({Avatar:\"\"});const[avatar,setAvatar]=useState(\"\");function xulyFile(e){const file=e.target.files;let reader=new FileReader();reader.onload=e=>{setAvatar(e.target.result);setFile(file[0]);};reader.readAsDataURL(file[0]);}function hanldeSubmit(e){e.preventDefault();let errObj={};let x=1;if(getData.Name==\"\"){errObj.Name=\"vui long nhap ten\";x=2;}if(getData.Email==\"\"){errObj.Email=\"vui long nhap email\";x=2;}if(getData.Pass==\"\"){errObj.Pass=\"vui long nhap pass\";x=2;}if(getData.Address==\"\"){errObj.Adress=\"vui long nhap dia chi\";x=2;}if(getData.Phone==\"\"){errObj.Phone=\"vui long nhap sdt\";x=2;}// if(getData.Level ==\"\"){\n// \terrObj.Level = \"Vui long nhap level\";\n// \tx = 2;\n// }\nif(File.Avatar==\"\"){errObj.Avatar=\"vui long chon hinh anh\";x=2;}else{let getSize=File['size'];let getNames=File['name'];if(getSize>1024*1024){alert('file lớn hơn 1Mb');}let text=[\"png\",\"jpg\",\"jpeg\",\"PNG\",\"JPG\"];let demo=getNames;let myarr=demo.split(\".\");if(text.includes(myarr[1])==0){alert(\"Loi\");}}if(x==1){alert(\"Dang ky thanh cong\");let xx=JSON.stringify(getData);localStorage.setItem(\"getlocal\",xx);// lây cái thong tin gui qua api \nlet data={email:getData.Email,password:getData.Pass,name:getData.Name,phone:getData.Phone,address:getData.Address,avatar:avatar,level:0};axios.post(\"http://localhost:8080/laravel8/laravel8/public/api/register\",data).then(res=>{console.log(res);}).catch(function(error){console.log(error);});}else{setErr(errObj);}}function showErr(){if(Object.keys(err).length>0){return Object.keys(err).map((key,index)=>{return/*#__PURE__*/_jsx(\"li\",{children:err[key]},key);});}}return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-4\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"signup-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New User Signup!\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",onSubmit:hanldeSubmit,enctype:\"multipart/form-data\",children:[showErr(),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",name:\"Name\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email Address\",name:\"Email\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",name:\"Pass\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Phone\",name:\"Phone\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Address\",name:\"Address\",onChange:handleIP}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",placeholder:\"Avatar\",name:\"Avatar\",onChange:xulyFile}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Level\",name:\"Level\",onChange:handleIP}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-default\",children:\"Signup\"})]})]})});}export default Register;","map":{"version":3,"names":["axios","useEffect","useState","redirect","jsx","_jsx","jsxs","_jsxs","Register","getData","setGetData","Email","Pass","Name","Phone","Address","Level","err","setErr","handleIP","e","getName","target","name","getValue","value","state","File","setFile","Avatar","avatar","setAvatar","xulyFile","file","files","reader","FileReader","onload","result","readAsDataURL","hanldeSubmit","preventDefault","errObj","x","Adress","getSize","getNames","alert","text","demo","myarr","split","includes","xx","JSON","stringify","localStorage","setItem","data","email","password","phone","address","level","post","then","res","console","log","catch","error","showErr","Object","keys","length","map","key","index","children","class","action","onSubmit","enctype","type","placeholder","onChange"],"sources":["C:/Users/ASUS/Desktop/react.js/app-new/src/Component/member/Register.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\"\r\nimport { redirect } from \"react-router-dom\";\r\n\r\nfunction Register(){\r\n\tconst [getData, setGetData] = useState({\r\n\t\tEmail:\"\",\r\n\t\tPass:\"\",\r\n\t\tName:\"\",\r\n\t\tPhone:\"\",\r\n\t\tAddress:\"\",\r\n\t\tLevel:0\r\n\t}\r\n\t);\r\n\t   \r\n\t   const [err, setErr] = useState(\"\")\r\n\t   \r\n\tfunction handleIP(e){\r\n\t\t  let getName= e.target.name\r\n\t\t  let getValue = e.target.value\r\n\t\t  setGetData(state => ({...state,[getName]:getValue}))\r\n\t} \r\n\t   \r\n\r\n\t\tconst [File, setFile] = useState({\r\n\t\t\tAvatar : \"\"\r\n\t\t})\r\n\r\n\t\tconst [avatar, setAvatar] = useState(\"\")\r\n\t\t\t\r\n\tfunction xulyFile(e){\t\r\n\t\t\tconst file = e.target.files; \r\n\t\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.onload = (e) =>{\r\n\t\t\tsetAvatar(e.target.result)\r\n\t\t\tsetFile(file[0]);\t\r\n\t        };\r\n\t\treader.readAsDataURL(file[0]);\t\r\n\t\t\r\n\t}\r\n\r\n\tfunction hanldeSubmit(e){\r\n\t\te.preventDefault();\r\n\t\tlet errObj={};\r\n\t\tlet x =1;\r\n\t\tif(getData.Name == \"\"){\r\n\t\t\terrObj.Name = \"vui long nhap ten\"\r\n\t\t\tx = 2;\r\n\t\t  } \r\n\t\tif(getData.Email == \"\"){     \r\n\t\t    errObj.Email= \"vui long nhap email\";\r\n\t\t    x = 2;\r\n\t\t}\r\n\t\tif(getData.Pass == \"\"){   \r\n\t\t    errObj.Pass = \"vui long nhap pass\";  \r\n\t\t    x=2;\r\n\t\t} \r\n\t\tif(getData.Address == \"\"){\r\n\t\t\terrObj.Adress = \"vui long nhap dia chi\";\r\n\t\t\tx = 2;\r\n\t\t}\r\n\t\tif(getData.Phone == \"\"){\r\n\t\t\terrObj.Phone = \"vui long nhap sdt\";\r\n\t\t\tx = 2;\r\n\t\t}\r\n\t\t// if(getData.Level ==\"\"){\r\n\t\t// \terrObj.Level = \"Vui long nhap level\";\r\n\t\t// \tx = 2;\r\n\t\t// }\r\n\t\tif(File.Avatar == \"\"){\r\n\t\t\terrObj.Avatar = \"vui long chon hinh anh\";\r\n\t\t\tx = 2;\r\n\t\t}else{\r\n\t\t\tlet getSize = File['size'];\r\n\t\t\tlet getNames = File['name'];\r\n\t\t\t\t\t\t \r\n\t\t\tif(getSize > 1024 * 1024){\r\n\t\t\t   alert('file lớn hơn 1Mb') \r\n\t\t\t}\r\n\t\r\n\t\t\tlet text =[\"png\", \"jpg\", \"jpeg\",\"PNG\", \"JPG\"];\r\n\t\t\tlet demo = getNames;      \r\n\t\t\tlet myarr = demo.split(\".\");\r\n\t\t\t  \r\n\t\t   if(text.includes(myarr[1]) == 0){\r\n\t\t\t alert(\"Loi\")\r\n\t\t   }\r\n\t\t   \r\n\t\t} \r\n\r\n\t\tif(x==1){\r\n\t\t  alert(\"Dang ky thanh cong\")\r\n\t\t  let xx = JSON.stringify(getData);\r\n\t      localStorage.setItem(\"getlocal\", xx)\r\n\t\t\t// lây cái thong tin gui qua api \r\n\t\t    let data = {\r\n\t\t\t\temail: getData.Email,\r\n\t\t\t\tpassword: getData.Pass,\r\n\t\t\t\tname: getData.Name,\r\n\t\t\t\tphone: getData.Phone,\r\n\t\t\t\taddress: getData.Address,\r\n\t\t\t\tavatar: avatar,\r\n\t\t\t\tlevel: 0\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taxios.post(\"http://localhost:8080/laravel8/laravel8/public/api/register\", data)\r\n\t\t\t.then((res) =>{\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t})\r\n\t\t\t.catch(function(error){\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n\t\t\r\n\t\t}else{\r\n\t\t  setErr(errObj);\r\n\t\t}\r\n\r\n\t}\r\n\t\t\r\n\t  function showErr(){\r\n\t\tif(Object.keys(err).length > 0){\r\n\t\t  return Object.keys(err).map((key,index)=>{\r\n\t\t\treturn(\r\n\t\t\t  <li key={key}>\r\n\t\t\t\t{err[key]}\r\n\t\t\t  </li>\r\n\t\t\t)\r\n\t\t  })\r\n\t\t}\r\n\t   \r\n\t  }\t   \r\n\r\n    return (\r\n        <div class=\"col-sm-4\">\r\n\t\t\t\t\t<div class=\"signup-form\">\r\n\t\t\t\t\t\t<h2>New User Signup!</h2>\r\n\t\t\t\t\t\t<form action=\"#\" onSubmit={hanldeSubmit} enctype=\"multipart/form-data\">\r\n\t\t\t\t\t\t\t{showErr()}\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Name\" name=\"Name\" onChange={handleIP}/>\r\n\t\t\t\t\t\t\t<input type=\"email\" placeholder=\"Email Address\" name=\"Email\" onChange={handleIP}/>\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"Pass\" onChange={handleIP}/>\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Phone\" name= \"Phone\" onChange={handleIP} />\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Address\" name=\"Address\" onChange={handleIP} />\r\n\t\t\t\t\t\t\t<input type=\"file\" placeholder=\"Avatar\" name=\"Avatar\" onChange={xulyFile} /> \r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Level\" name=\"Level\" onChange={handleIP} />\r\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-default\">Signup</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n    )\r\n   \r\n}\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}