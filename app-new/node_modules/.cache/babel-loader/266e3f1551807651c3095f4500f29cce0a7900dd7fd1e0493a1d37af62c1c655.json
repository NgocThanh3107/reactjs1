{"ast":null,"code":"import { toBeChecked } from \"@testing-library/jest-dom/matchers\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// function Edit_product(){\n\n// const param = useParams();\n// let token = localStorage.getItem(\"token\");\n// let id = localStorage.getItem(\"auth\");\n//     id = JSON.parse(id)\n//     let id_user = id.id;\n\n// const [img,setImg] = useState([]);\n// const [data,setData] = useState({\n//     Name:\"\",\n//     Price:\"\",\n//     Category:\"\",\n//     Brand:\"\",\n//     Status:\"\",\n//     Company:\"\",\n//     Detail:\"\",\n//     Sale:\"\",\n//     Id_pro:\"\"\n// });\n\n// const [err,setErr] = useState(\"\");\n\n// useEffect(()=>{\n//     let config = {\n//         headers: {\n//             'Authorization': 'Bearer '+ token,\n//             'Content_Type': 'multipart/form/data',\n//             'Accept': 'application/json'\n//         }\n//     };\n//     axios.get(\"http://localhost:8080/laravel8/laravel8/public/api/user/product/\" + param.id, config)\n//     .then(res=>{\n\n//         setImg(res.data.data.image)\n//         let getdata = res.data.data;\n//         setData({\n//             Name: getdata.name,\n//             Price: getdata.price,\n//             Category: getdata.id_category,\n//             Brand: getdata.id_brand,\n//             Status: getdata.status,\n//             Company: getdata.company_profile,\n//             Detail: getdata.detail,\n//             Sale: getdata.sale ? getdata.sale : 0,\n//             Id_pro:getdata.id\n//         })\n//     });\n// },[]);\n\n// function handleIP(e){\n//     let getName= e.target.name\n//     let getValue = e.target.value\n//      setData(state => ({...state,[getName]:getValue}))\n// }\n\n// const [file,setFile] = useState(\"\");\n// function xulyFile(e){\t\n//     const files = e.target.files;   \n//     setFile(files);\t\n// }\n\n// const [array,setArray] = useState([]);\n\n// function handleCheck(e){\n//    let newValue = e.target.value;\n\n//    if(e.target.checked == true){\n//     setArray(state => [...state, newValue]);\n//    }else{\n//     if(array.includes(newValue) == true){\n//         const newArr = array.filter((v)=> v !== newValue);\n//         setArray(newArr)\n//     }\n//     else{\n//         setArray([...array, newValue])\n//     }\n//     //  - kiem tra newValue co trong  array\n//     //  - remove value in array\n//    }\n\n// }\n\n// function showErr(){\n//     if(Object.keys(err).length > 0){\n//       return Object.keys(err).map((key,index)=>{\n//         return(\n//           <li key={key}>\n//             {err[key]}\n//           </li>\n//         )\n//       })\n//     }\n// }\n// function renderImg(){\n//     if((img).length >0){\n//         return (img).map((value,key)=>{\n//             return(\n//                 <p>\n//                     <input  type=\"checkbox\" value={value} name=\"Checkbox\" onClick={handleCheck}></input>\n//                     <img width={50} height={50} src={\"http://localhost:8080/laravel8/laravel8/public/upload/product/\" + id_user + \"/\" + value} alt=\"\"></img>\n//                 </p>\n//             )\n//         })\n//     }\n// }\n\n// let errObj = {};\n// let x = 1;\n// function handleSubmit(e){\n//     e.preventDefault();\n//     if(data.Name == \"\"){\n//     errObj.Name = \"Please enter name\";\n//     x = 2;\n//     }\n//     if(data.Price == \"\"){\n//     errObj.Price = \"Please enter price\";\n//     x = 2;\n//     }\n//     if(data.Company == \"\"){\n//         errObj.Company = \"Please enter company\";\n//         x = 2;\n//     }\n//     if(data.Detail == \"\"){\n//         errObj.Detail = \"Please enter detail\";\n//         x = 2;\n//     }\n//     if(array == 0){\n//         errObj.array= \"Please choose photo\";\n//         x = 2;\n//     }\n//     if((img.length + file.length) - array.length > 3){\n//         errObj.array1=\"Photo more than 3\";\n//         x = 2;\n//     }\n//     if(file == \"\"){\n//         errObj.img = \"Please select the image\";\n//         x = 2;\n//     }else{\n//         Object.keys(file).map((key,index)=>{\n//             let getSize = file[key]['size'];\n//             let getName = file[key]['name'];\n//             if(getSize > 1024 * 1024){\n//                 errObj.getSize = \"file lớn hơn 1Mb,vui lòng chọn lại\"\n//                 x = 2;\n//             }\n//             let text =[\"png\", \"jpg\", \"jpeg\",\"PNG\", \"JPG\"];\n//             let demo = getName;      \n//             let myarr = demo.split(\".\");\n//            if(text.includes(myarr[1]) == 0){\n//                 errObj.text = \"lỗi định dạng file\"\n//                 x = 2;\n//            }\n//         })   \n//     }\n//     setErr(errObj);\n//     if(x==1){\n//         alert(\"ok\")\n//         let config ={\n//             headers: {\n//                 'Authorization': 'Bearer '+ token,\n//                 'Content-Type': 'application/x-www-form-urlencoded',\n//                 'Accept': 'application/json'\n//             }\n//         };\n//         let formData = new FormData();\n//             formData.append('name', data.Name);\n//             formData.append('price', data.Price);\n//             formData.append('category', data.Category);\n//             formData.append('brand', data.Brand);\n//             formData.append('company', data.Company);\n//             formData.append('detail', data.Detail);\n//             formData.append('status', data.Status);\n//             formData.append('sale', data.Sale ? data.Sale : 0);\n//             formData.append('avatarCheckBox[]', array);\n\n//             Object.keys(file).map((item,i)=>{\n//                 formData.append('file[]', file[item]);\n//             });\n//             Object.keys(array).map((item,i)=>{\n//                 formData.append('avatarCheckBox[]', array[item]);\n//             });\n\n//         axios.post(\"http://localhost:8080/laravel8/laravel8/public/api/user/product/update/\" + id_user, formData, config )\n//         .then(res=>{\n//             console.log(res)\n//         })\n//         .catch(function(errors){\n//             console.log(errors)\n//         })\n//     }\n// }\n\n// return(\n//     <div class=\"signup-form\">\n//         <h2>Edit Product</h2>\n//         <form onSubmit={handleSubmit} enctype=\"multipart/form-data\">\n//             {showErr()}\n//             <p><input type=\"text\" value={data.Name} placeholder=\"Name\" name=\"Name\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Price} placeholder=\"Price\" name=\"Price\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Category} placeholder=\"Category\" name=\"Category\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Brand} placeholder=\"Brand\" name=\"Brand\" onChange={handleIP}></input></p>\n//             <p><input type=\"file\" name=\"File\" onChange={xulyFile} multiple></input>\n//             {renderImg()}\n//             </p>\n//             <p><input type=\"text\" value={data.Status} placeholder=\"Status\" name=\"Status\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Company} placeholder=\"Company\" name=\"Company\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Detail} placeholder=\"Detail\" name=\"Detail\" onChange={handleIP}></input></p>\n//             <p><input type=\"text\" value={data.Sale} placeholder=\"Sale\" name=\"Sale\" onChange={handleIP}></input></p>\n//             <button type=\"submit\">Update</button>\n//         </form>\n//     </div>\n// )\n\n// }\n// export default Edit_product;","map":{"version":3,"names":["toBeChecked","axios","useEffect","useState","useParams"],"sources":["C:/Users/ASUS/Desktop/react.js/app-new/src/Component/account/Edit_product.js"],"sourcesContent":["import { toBeChecked } from \"@testing-library/jest-dom/matchers\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\n// function Edit_product(){\r\n\r\n// const param = useParams();\r\n// let token = localStorage.getItem(\"token\");\r\n// let id = localStorage.getItem(\"auth\");\r\n//     id = JSON.parse(id)\r\n//     let id_user = id.id;\r\n\r\n// const [img,setImg] = useState([]);\r\n// const [data,setData] = useState({\r\n//     Name:\"\",\r\n//     Price:\"\",\r\n//     Category:\"\",\r\n//     Brand:\"\",\r\n//     Status:\"\",\r\n//     Company:\"\",\r\n//     Detail:\"\",\r\n//     Sale:\"\",\r\n//     Id_pro:\"\"\r\n// });\r\n\r\n// const [err,setErr] = useState(\"\");\r\n\r\n// useEffect(()=>{\r\n//     let config = {\r\n//         headers: {\r\n//             'Authorization': 'Bearer '+ token,\r\n//             'Content_Type': 'multipart/form/data',\r\n//             'Accept': 'application/json'\r\n//         }\r\n//     };\r\n//     axios.get(\"http://localhost:8080/laravel8/laravel8/public/api/user/product/\" + param.id, config)\r\n//     .then(res=>{\r\n\r\n//         setImg(res.data.data.image)\r\n//         let getdata = res.data.data;\r\n//         setData({\r\n//             Name: getdata.name,\r\n//             Price: getdata.price,\r\n//             Category: getdata.id_category,\r\n//             Brand: getdata.id_brand,\r\n//             Status: getdata.status,\r\n//             Company: getdata.company_profile,\r\n//             Detail: getdata.detail,\r\n//             Sale: getdata.sale ? getdata.sale : 0,\r\n//             Id_pro:getdata.id\r\n//         })\r\n//     });\r\n// },[]);\r\n\r\n// function handleIP(e){\r\n//     let getName= e.target.name\r\n//     let getValue = e.target.value\r\n//      setData(state => ({...state,[getName]:getValue}))\r\n// }\r\n\r\n// const [file,setFile] = useState(\"\");\r\n// function xulyFile(e){\t\r\n//     const files = e.target.files;   \r\n//     setFile(files);\t\r\n// }\r\n\r\n// const [array,setArray] = useState([]);\r\n\r\n// function handleCheck(e){\r\n//    let newValue = e.target.value;\r\n   \r\n//    if(e.target.checked == true){\r\n//     setArray(state => [...state, newValue]);\r\n//    }else{\r\n//     if(array.includes(newValue) == true){\r\n//         const newArr = array.filter((v)=> v !== newValue);\r\n//         setArray(newArr)\r\n//     }\r\n//     else{\r\n//         setArray([...array, newValue])\r\n//     }\r\n//     //  - kiem tra newValue co trong  array\r\n//     //  - remove value in array\r\n//    }\r\n\r\n// }\r\n\r\n// function showErr(){\r\n//     if(Object.keys(err).length > 0){\r\n//       return Object.keys(err).map((key,index)=>{\r\n//         return(\r\n//           <li key={key}>\r\n//             {err[key]}\r\n//           </li>\r\n//         )\r\n//       })\r\n//     }\r\n// }\r\n// function renderImg(){\r\n//     if((img).length >0){\r\n//         return (img).map((value,key)=>{\r\n//             return(\r\n//                 <p>\r\n//                     <input  type=\"checkbox\" value={value} name=\"Checkbox\" onClick={handleCheck}></input>\r\n//                     <img width={50} height={50} src={\"http://localhost:8080/laravel8/laravel8/public/upload/product/\" + id_user + \"/\" + value} alt=\"\"></img>\r\n//                 </p>\r\n//             )\r\n//         })\r\n//     }\r\n// }\r\n\r\n// let errObj = {};\r\n// let x = 1;\r\n// function handleSubmit(e){\r\n//     e.preventDefault();\r\n//     if(data.Name == \"\"){\r\n//     errObj.Name = \"Please enter name\";\r\n//     x = 2;\r\n//     }\r\n//     if(data.Price == \"\"){\r\n//     errObj.Price = \"Please enter price\";\r\n//     x = 2;\r\n//     }\r\n//     if(data.Company == \"\"){\r\n//         errObj.Company = \"Please enter company\";\r\n//         x = 2;\r\n//     }\r\n//     if(data.Detail == \"\"){\r\n//         errObj.Detail = \"Please enter detail\";\r\n//         x = 2;\r\n//     }\r\n//     if(array == 0){\r\n//         errObj.array= \"Please choose photo\";\r\n//         x = 2;\r\n//     }\r\n//     if((img.length + file.length) - array.length > 3){\r\n//         errObj.array1=\"Photo more than 3\";\r\n//         x = 2;\r\n//     }\r\n//     if(file == \"\"){\r\n//         errObj.img = \"Please select the image\";\r\n//         x = 2;\r\n//     }else{\r\n//         Object.keys(file).map((key,index)=>{\r\n//             let getSize = file[key]['size'];\r\n//             let getName = file[key]['name'];\r\n//             if(getSize > 1024 * 1024){\r\n//                 errObj.getSize = \"file lớn hơn 1Mb,vui lòng chọn lại\"\r\n//                 x = 2;\r\n//             }\r\n//             let text =[\"png\", \"jpg\", \"jpeg\",\"PNG\", \"JPG\"];\r\n//             let demo = getName;      \r\n//             let myarr = demo.split(\".\");\r\n//            if(text.includes(myarr[1]) == 0){\r\n//                 errObj.text = \"lỗi định dạng file\"\r\n//                 x = 2;\r\n//            }\r\n//         })   \r\n//     }\r\n//     setErr(errObj);\r\n//     if(x==1){\r\n//         alert(\"ok\")\r\n//         let config ={\r\n//             headers: {\r\n//                 'Authorization': 'Bearer '+ token,\r\n//                 'Content-Type': 'application/x-www-form-urlencoded',\r\n//                 'Accept': 'application/json'\r\n//             }\r\n//         };\r\n//         let formData = new FormData();\r\n//             formData.append('name', data.Name);\r\n//             formData.append('price', data.Price);\r\n//             formData.append('category', data.Category);\r\n//             formData.append('brand', data.Brand);\r\n//             formData.append('company', data.Company);\r\n//             formData.append('detail', data.Detail);\r\n//             formData.append('status', data.Status);\r\n//             formData.append('sale', data.Sale ? data.Sale : 0);\r\n//             formData.append('avatarCheckBox[]', array);\r\n\r\n//             Object.keys(file).map((item,i)=>{\r\n//                 formData.append('file[]', file[item]);\r\n//             });\r\n//             Object.keys(array).map((item,i)=>{\r\n//                 formData.append('avatarCheckBox[]', array[item]);\r\n//             });\r\n\r\n//         axios.post(\"http://localhost:8080/laravel8/laravel8/public/api/user/product/update/\" + id_user, formData, config )\r\n//         .then(res=>{\r\n//             console.log(res)\r\n//         })\r\n//         .catch(function(errors){\r\n//             console.log(errors)\r\n//         })\r\n//     }\r\n// }\r\n\r\n// return(\r\n//     <div class=\"signup-form\">\r\n//         <h2>Edit Product</h2>\r\n//         <form onSubmit={handleSubmit} enctype=\"multipart/form-data\">\r\n//             {showErr()}\r\n//             <p><input type=\"text\" value={data.Name} placeholder=\"Name\" name=\"Name\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Price} placeholder=\"Price\" name=\"Price\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Category} placeholder=\"Category\" name=\"Category\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Brand} placeholder=\"Brand\" name=\"Brand\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"file\" name=\"File\" onChange={xulyFile} multiple></input>\r\n//             {renderImg()}\r\n//             </p>\r\n//             <p><input type=\"text\" value={data.Status} placeholder=\"Status\" name=\"Status\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Company} placeholder=\"Company\" name=\"Company\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Detail} placeholder=\"Detail\" name=\"Detail\" onChange={handleIP}></input></p>\r\n//             <p><input type=\"text\" value={data.Sale} placeholder=\"Sale\" name=\"Sale\" onChange={handleIP}></input></p>\r\n//             <button type=\"submit\">Update</button>\r\n//         </form>\r\n//     </div>\r\n// )\r\n\r\n// }\r\n// export default Edit_product;\r\n\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,oCAAoC;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,kBAAkB;;AAE5C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}